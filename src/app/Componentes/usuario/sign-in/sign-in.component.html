<article>
  <div id="formulari-contenidor">
    <form (ngSubmit)="registro()" class="bg-secondary rounded">
      <div class="article-titol-div">
        <h1 class="article-titol">Crear compte</h1>
      </div>
      <div class="d-flex flex-row mb-3 justify-content-between gap-3">
        <div>
          <label class="form-label">Nom</label>
          <input #miInput name="nom" type="text" placeholder="Bobby" class="form-control" required [(ngModel)]="nom">
        </div>
        <div>
          <label class="form-label">Cognom</label>
          <input name="cognom" type="text" placeholder="Cotxes" class="form-control" required [(ngModel)]="cognom">
        </div>
      </div>
      <div id="divocorreu" class="mb-3">
        <label class="form-label">Correu</label>
        <input name="correu" type="email" placeholder="exemple@bobbycotxes.com" class="form-control" required [(ngModel)]="correu">
      </div>
      <div class="mb-3">
        <label class="form-label">Usuari</label>
        <input name="usuari" type="text" placeholder="Bobbycotxes" class="form-control" required [(ngModel)]="usuari">
      </div>
      <div class="mb-3">
        <label class="form-label">DNI</label>
        <input name="dni" type="text" placeholder="12345678A" class="form-control" required [(ngModel)]="DNI">
      </div>
      <div class="d-flex flex-row mb-3 justify-content-between gap-3">
        <div>
          <label class="form-label">Data neixament</label>
          <input name="dataneixament" type="date" class="form-control" required [(ngModel)]="aniversari">
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Telefon</label>
        <input name="telefon" type="text" placeholder="932345678" class="form-control" required [(ngModel)]="telefon">
      </div>
      <div class="d-flex flex-row mb-3 justify-content-between gap-3">
        <div>
          <label class="form-label">Contrasenya</label>
          <input name="contrasenya" type="password" class="form-control" placeholder="*******" required [(ngModel)]="contrasena">
        </div>
        <div>
          <label class="form-label">Contrasenya Confirmar</label>
          <input name="contrasenya-com" type="password" class="form-control" placeholder="********" required [(ngModel)]="confContrasena">
        </div>
      </div>
      <div id="divtelefon" class="mb-3">
        <label class="form-label">Adreça</label>
        <input name="adreca" type="text" placeholder="Rda. de Sant Antoni, 4, Ciutat Vella, 08001 Barcelona" class="form-control" required [(ngModel)]="adreca">
      </div>

      <!-- ✅ Mensaje de captcha -->
      <p *ngIf="captchaCompletado" class="text-success">✅ Captcha completado correctamente.</p>

      <!-- ✅ Botón deshabilitado si el captcha no está completado -->
      <div class="d-flex flex-row mb-3 justify-content-between gap-3">
        <div>
          <button type="submit" class="btn btn-primary" [disabled]="!captchaCompletado">Crear</button>
        </div>
        <div>
          <button type="reset" class="btn btn-primary">Reiniciar</button>
        </div>
      </div>
    </form>

    <!-- ✅ Doom Captcha -->
    <iframe id="doomCaptcha" src="https://doom-captcha.vercel.app/" width="500" height="500" style="border:none;"></iframe>

    <p *ngIf="usuari_ja_registrat">{{ usuari_ja_registrat }}</p>
  </div>
</article>
